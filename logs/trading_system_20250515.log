2025-05-15 17:16:49,085 - trading_system.module_manager - DEBUG - [trading_system.py:60] - Các module agent khả dụng
2025-05-15 17:16:49,086 - trading_system.module_manager - DEBUG - [trading_system.py:70] - Các module môi trường khả dụng
2025-05-15 17:16:49,086 - trading_system.module_manager - DEBUG - [trading_system.py:80] - Các module thu thập dữ liệu khả dụng
2025-05-15 17:16:49,120 - trading_system.cli_parser - INFO - [main.py:206] - Đã cập nhật mức độ log: INFO
2025-05-15 17:16:49,121 - trading_system.module_manager - INFO - [trading_system.py:139] - ==== Trạng thái khả dụng của module ====
2025-05-15 17:16:49,121 - trading_system.module_manager - INFO - [trading_system.py:140] - Agents: Khả dụng
2025-05-15 17:16:49,122 - trading_system.module_manager - INFO - [trading_system.py:141] - Environments: Khả dụng
2025-05-15 17:16:49,123 - trading_system.module_manager - INFO - [trading_system.py:142] - Data Collectors: Khả dụng
2025-05-15 17:16:49,124 - trading_system.trading_system - INFO - [trading_system.py:223] - Đã khởi tạo hệ thống giao dịch tự động
2025-05-15 17:16:49,128 - trading_system.cli_parser - INFO - [main.py:258] - Sử dụng thư mục đầu ra: data\features
2025-05-15 17:16:49,129 - trading_system.data_cleaner - INFO - [data_cleaner.py:70] - Đã khởi tạo DataCleaner với normalize_method=z-score
2025-05-15 17:16:49,130 - trading_system.process_commands - INFO - [feature_generator.py:160] - Đã khởi tạo FeatureGenerator
2025-05-15 17:16:49,132 - trading_system.process_commands - INFO - [feature_generator.py:535] - Đã đăng ký tổng cộng 72 đặc trưng mặc định
2025-05-15 17:16:49,133 - trading_system.sentiment_collector - INFO - [sentiment_collector.py:1858] - Đã thêm nguồn dữ liệu tâm lý: Fear and Greed Index
2025-05-15 17:16:49,134 - trading_system.process_commands - INFO - [data_pipeline.py:224] - Đã khởi tạo các collector dữ liệu cho binance
2025-05-15 17:16:49,135 - trading_system.process_commands - INFO - [data_pipeline.py:112] - Đã khởi tạo DataPipeline
2025-05-15 17:16:49,136 - trading_system.process_commands - INFO - [process_commands.py:870] - Đang tìm kiếm dữ liệu trong thư mục: data\processed
2025-05-15 17:16:49,138 - trading_system.process_commands - INFO - [process_commands.py:877] - Tìm thấy tổng cộng 1 file dữ liệu
2025-05-15 17:16:49,138 - trading_system.process_commands - INFO - [process_commands.py:891] - Tìm thấy file cho BTC/USDT: data\processed\btc_usdt_20250515_155534.parquet
2025-05-15 17:16:49,259 - trading_system.process_commands - INFO - [data_pipeline.py:770] - Timestamp cho BTC/USDT: dtype=datetime64[ns], min=2021-12-31 17:00:00, max=2024-12-31 17:00:00
2025-05-15 17:16:49,260 - trading_system.process_commands - INFO - [data_pipeline.py:774] - Đã tải 26305 dòng dữ liệu từ data\processed\btc_usdt_20250515_155534.parquet cho BTC/USDT
2025-05-15 17:16:49,263 - trading_system.process_commands - INFO - [feature_generator.py:535] - Đã đăng ký tổng cộng 72 đặc trưng mặc định
2025-05-15 17:16:49,271 - trading_system.process_commands - ERROR - [data_pipeline.py:1382] - Lỗi khi tạo đặc trưng cho BTC/USDT: local variable 'features_df' referenced before assignment
2025-05-15 17:16:49,273 - trading_system.process_commands - ERROR - [data_pipeline.py:1383] - Traceback (most recent call last):
  File "E:\AI_AGENT\automated-trading-system\data_processors\data_pipeline.py", line 1359, in generate_features
    features_df.insert(0, 'timestamp', timestamp_col)
UnboundLocalError: local variable 'features_df' referenced before assignment

2025-05-15 17:16:49,274 - trading_system.process_commands - ERROR - [process_commands.py:1217] - Lỗi khi tạo đặc trưng: 'NoneType' object has no attribute 'items'
Traceback (most recent call last):
  File "E:\AI_AGENT\automated-trading-system\cli\commands\process_commands.py", line 1198, in handle_process_command
    saved_paths = pipeline.save_data(
  File "E:\AI_AGENT\automated-trading-system\data_processors\data_pipeline.py", line 2272, in save_data
    consistency_reports = self.check_data_consistency(data)
  File "E:\AI_AGENT\automated-trading-system\data_processors\data_pipeline.py", line 1939, in check_data_consistency
    for symbol, df in data.items():
AttributeError: 'NoneType' object has no attribute 'items'
